setfile("beam", "gpt_particles.gdf");
time=0.0;
auto_phase=0.0;
space_charge=0.0;
cathode=0.0;
space_charge_type=1.0;
RadiusMax=0.04;
GBacc=5.5;
xacc=6.5;
accuracy(GBacc, xacc);
dtmin=1e-16;
dtmax=1e-10;

Alpha=1.0;
Fn=0.5;
verror=0.005;
Nstd=5.0;
tree_code_theta=1.0;
tree_code_R=1e-06;
if (space_charge == 1) {

    if (space_charge_type == 1) {
        if(cathode == 1) {
            spacecharge3Dmesh("MeshNfac", Alpha, "MeshAdapt", Fn, "SolverAcc", verror, "MeshBoxSize", Nstd);
        } else {
            spacecharge3Dmesh("Cathode", "MeshNfac", Alpha, "MeshAdapt", Fn, "SolverAcc", verror, "MeshBoxSize", Nstd);
        }    }
    if (space_charge_type == 2) {
        setrmacrodist("beam","u",tree_code_R,0) ;
        spacecharge3Dtree(tree_code_theta) ; 
    }
}
Ntout=50.0;
tmax=10e-9;
ZSTART=-0.005;
ZSTOP=3;
zminmax("wcs", "I", ZSTART, ZSTOP);

if(Ntout>0) {
    tout(time, tmax, tmax/Ntout);
}


#***********************************************
#               Sectorbend: b1         
#***********************************************
b1_end_x = 0.2928932188134524;
b1_end_y = 0.0;
b1_end_z = 1.7071067811865475;

ccs("wcs", b1_end_x, b1_end_y, b1_end_z, 0.7071067811865476, 0.0, -0.7071067811865475, 0, 1, 0, "b1_ccs_end");

b1_radius = 1.0;
b1_Bfield = 0.03335640951981523;
b1_phi_in = 0;
b1_phi_out = 45;
b1_fringe_dl = 0;
b1_fringe_b1 = 0;
b1_fringe_b2 = 0;

sectormagnet_fix("wcs", "b1_ccs_end", b1_radius, b1_Bfield, b1_phi_in/deg, b1_phi_out/deg, b1_fringe_dl, b1_fringe_b1, b1_fringe_b2);
ccs("wcs", 0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, "b1_scr_ccs_1");
screen("wcs", 0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_1");
ccs("wcs", 0.0008542416126989805, 0.0, 1.041324974248813, 0.999145758387301, 0.0, -0.04132497424881321, 0.0, 1.0, 0.0, "b1_scr_ccs_2");
screen("wcs", 0.0008542416126989805, 0.0, 1.041324974248813, 0.999145758387301, 0.0, -0.04132497424881321, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_2");
ccs("wcs", 0.003415506993330153, 0.0, 1.0825793454723323, 0.9965844930066698, 0.0, -0.08257934547233232, 0.0, 1.0, 0.0, "b1_scr_ccs_3");
screen("wcs", 0.003415506993330153, 0.0, 1.0825793454723323, 0.9965844930066698, 0.0, -0.08257934547233232, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_3");
ccs("wcs", 0.0076794202629549835, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, -0.1236926312693476, 0.0, 1.0, 0.0, "b1_scr_ccs_4");
screen("wcs", 0.0076794202629549835, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, -0.1236926312693476, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_4");
ccs("wcs", 0.013638696597277677, 0.0, 1.164594590280734, 0.9863613034027223, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, "b1_scr_ccs_5");
screen("wcs", 0.013638696597277677, 0.0, 1.164594590280734, 0.9863613034027223, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_5");
ccs("wcs", 0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, -0.20521534219563425, 0.0, 1.0, 0.0, "b1_scr_ccs_6");
screen("wcs", 0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, -0.20521534219563425, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_6");
ccs("wcs", 0.030599734060669626, 0.0, 1.2454854871407992, 0.9694002659393304, 0.0, -0.24548548714079912, 0.0, 1.0, 0.0, "b1_scr_ccs_7");
screen("wcs", 0.030599734060669626, 0.0, 1.2454854871407992, 0.9694002659393304, 0.0, -0.24548548714079912, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_7");
ccs("wcs", 0.04157251754174729, 0.0, 1.2853362242491053, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, "b1_scr_ccs_8");
screen("wcs", 0.04157251754174729, 0.0, 1.2853362242491053, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_8");
ccs("wcs", 0.05418275829936536, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, "b1_scr_ccs_9");
screen("wcs", 0.05418275829936536, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_9");
ccs("wcs", 0.06840891194872101, 0.0, 1.3635079705638298, 0.931591088051279, 0.0, -0.36350797056382983, 0.0, 1.0, 0.0, "b1_scr_ccs_10");
screen("wcs", 0.06840891194872101, 0.0, 1.3635079705638298, 0.931591088051279, 0.0, -0.36350797056382983, 0.0, 1.0, 0.0, 0, "b1_scr_ccs_10");
ccs("b1_ccs_end", 0.06840891194872101, 0.0, -0.3635079705638299, 0.931591088051279, 0.0, 0.3635079705638299, 0.0, 1.0, 0.0, "b1_scr_ccs_11");
screen("b1_ccs_end", 0.06840891194872101, 0.0, -0.3635079705638299, 0.4657955440256395, 0.0, 0.18175398528191494, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_11");
ccs("b1_ccs_end", 0.05418275829936531, 0.0, -0.3246994692046834, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, "b1_scr_ccs_12");
screen("b1_ccs_end", 0.05418275829936531, 0.0, -0.3246994692046834, 0.4729086208503173, 0.0, 0.16234973460234173, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_12");
ccs("b1_ccs_end", 0.04157251754174732, 0.0, -0.2853362242491053, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, "b1_scr_ccs_13");
screen("b1_ccs_end", 0.04157251754174732, 0.0, -0.2853362242491053, 0.47921374122912636, 0.0, 0.14266811212455263, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_13");
ccs("b1_ccs_end", 0.03059973406066957, 0.0, -0.2454854871407991, 0.9694002659393304, 0.0, 0.2454854871407991, 0.0, 1.0, 0.0, "b1_scr_ccs_14");
screen("b1_ccs_end", 0.03059973406066957, 0.0, -0.2454854871407991, 0.4847001329696652, 0.0, 0.12274274357039955, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_14");
ccs("b1_ccs_end", 0.021283154672645632, 0.0, -0.2052153421956343, 0.9787168453273545, 0.0, 0.20521534219563423, 0.0, 1.0, 0.0, "b1_scr_ccs_15");
screen("b1_ccs_end", 0.021283154672645632, 0.0, -0.2052153421956343, 0.48935842266367724, 0.0, 0.10260767109781711, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_15");
ccs("b1_ccs_end", 0.013638696597277511, 0.0, -0.1645945902807338, 0.9863613034027224, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, "b1_scr_ccs_16");
screen("b1_ccs_end", 0.013638696597277511, 0.0, -0.1645945902807338, 0.4931806517013612, 0.0, 0.08229729514036695, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_16");
ccs("b1_ccs_end", 0.007679420262954782, 0.0, -0.12369263126934753, 0.9923205797370451, 0.0, 0.12369263126934758, 0.0, 1.0, 0.0, "b1_scr_ccs_17");
screen("b1_ccs_end", 0.007679420262954782, 0.0, -0.12369263126934753, 0.49616028986852256, 0.0, 0.06184631563467379, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_17");
ccs("b1_ccs_end", 0.003415506993330243, 0.0, -0.08257934547233245, 0.9965844930066698, 0.0, 0.08257934547233234, 0.0, 1.0, 0.0, "b1_scr_ccs_18");
screen("b1_ccs_end", 0.003415506993330243, 0.0, -0.08257934547233245, 0.4982922465033349, 0.0, 0.04128967273616617, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_18");
ccs("b1_ccs_end", 0.0008542416126989666, 0.0, -0.04132497424881325, 0.999145758387301, 0.0, 0.041324974248813276, 0.0, 1.0, 0.0, "b1_scr_ccs_19");
screen("b1_ccs_end", 0.0008542416126989666, 0.0, -0.04132497424881325, 0.4995728791936505, 0.0, 0.020662487124406638, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_19");
ccs("b1_ccs_end", 0.0, 0.0, 0.0, 1.0, 0.0, -1.0146536357569526e-17, 0.0, 1.0, 0.0, "b1_scr_ccs_20");
screen("b1_ccs_end", 0.0, 0.0, 0.0, 0.5, 0.0, -5.073268178784763e-18, 0.0, 0.5, 0.0, 0, "b1_scr_ccs_20");

#***********************************************
#               Sectorbend: b2         
#***********************************************
b2_end_x = -0.2928932188134524;
b2_end_y = 0.0;
b2_end_z = 1.7071067811865475;

ccs("b1_ccs_end", b2_end_x, b2_end_y, b2_end_z, 0.7071067811865476, 0.0, 0.7071067811865475, 0, 1, 0, "b2_ccs_end");

b2_radius = 1.0;
b2_Bfield = 0.03335640951981523;
b2_phi_in = 45;
b2_phi_out = 0;
b2_fringe_dl = 0;
b2_fringe_b1 = 0;
b2_fringe_b2 = 0;

sectormagnet_fix("b1_ccs_end", "b2_ccs_end", b2_radius, b2_Bfield, b2_phi_in/deg, b2_phi_out/deg, b2_fringe_dl, b2_fringe_b1, b2_fringe_b2);
ccs("b1_ccs_end", 1.1102230246251565e-16, 0.0, 0.9999999999999999, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, "b2_scr_ccs_1");
screen("b1_ccs_end", 1.1102230246251565e-16, 0.0, 0.9999999999999999, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_1");
ccs("b1_ccs_end", -0.0008542416126992025, 0.0, 1.041324974248813, 0.999145758387301, 0.0, 0.04132497424881321, 0.0, 1.0, 0.0, "b2_scr_ccs_2");
screen("b1_ccs_end", -0.0008542416126992025, 0.0, 1.041324974248813, 0.999145758387301, 0.0, 0.04132497424881321, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_2");
ccs("b1_ccs_end", -0.003415506993330153, 0.0, 1.0825793454723325, 0.9965844930066698, 0.0, 0.08257934547233232, 0.0, 1.0, 0.0, "b2_scr_ccs_3");
screen("b1_ccs_end", -0.003415506993330153, 0.0, 1.0825793454723325, 0.9965844930066698, 0.0, 0.08257934547233232, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_3");
ccs("b1_ccs_end", -0.007679420262954761, 0.0, 1.1236926312693472, 0.992320579737045, 0.0, 0.1236926312693476, 0.0, 1.0, 0.0, "b2_scr_ccs_4");
screen("b1_ccs_end", -0.007679420262954761, 0.0, 1.1236926312693472, 0.992320579737045, 0.0, 0.1236926312693476, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_4");
ccs("b1_ccs_end", -0.0136386965972779, 0.0, 1.1645945902807338, 0.9863613034027223, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, "b2_scr_ccs_5");
screen("b1_ccs_end", -0.0136386965972779, 0.0, 1.1645945902807338, 0.9863613034027223, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_5");
ccs("b1_ccs_end", -0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, 0.20521534219563425, 0.0, 1.0, 0.0, "b2_scr_ccs_6");
screen("b1_ccs_end", -0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, 0.20521534219563425, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_6");
ccs("b1_ccs_end", -0.030599734060669626, 0.0, 1.2454854871407992, 0.9694002659393304, 0.0, 0.24548548714079912, 0.0, 1.0, 0.0, "b2_scr_ccs_7");
screen("b1_ccs_end", -0.030599734060669626, 0.0, 1.2454854871407992, 0.9694002659393304, 0.0, 0.24548548714079912, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_7");
ccs("b1_ccs_end", -0.04157251754174751, 0.0, 1.2853362242491053, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, "b2_scr_ccs_8");
screen("b1_ccs_end", -0.04157251754174751, 0.0, 1.2853362242491053, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_8");
ccs("b1_ccs_end", -0.05418275829936525, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, "b2_scr_ccs_9");
screen("b1_ccs_end", -0.05418275829936525, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_9");
ccs("b1_ccs_end", -0.06840891194872101, 0.0, 1.3635079705638298, 0.931591088051279, 0.0, 0.36350797056382983, 0.0, 1.0, 0.0, "b2_scr_ccs_10");
screen("b1_ccs_end", -0.06840891194872101, 0.0, 1.3635079705638298, 0.931591088051279, 0.0, 0.36350797056382983, 0.0, 1.0, 0.0, 0, "b2_scr_ccs_10");
ccs("b2_ccs_end", -0.06840891194872115, 0.0, -0.36350797056383005, 0.931591088051279, 0.0, -0.3635079705638299, 0.0, 1.0, 0.0, "b2_scr_ccs_11");
screen("b2_ccs_end", -0.06840891194872115, 0.0, -0.36350797056383005, 0.4657955440256395, 0.0, -0.18175398528191494, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_11");
ccs("b2_ccs_end", -0.05418275829936556, 0.0, -0.3246994692046835, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, "b2_scr_ccs_12");
screen("b2_ccs_end", -0.05418275829936556, 0.0, -0.3246994692046835, 0.4729086208503173, 0.0, -0.16234973460234173, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_12");
ccs("b2_ccs_end", -0.041572517541747483, 0.0, -0.28533622424910515, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, "b2_scr_ccs_13");
screen("b2_ccs_end", -0.041572517541747483, 0.0, -0.28533622424910515, 0.47921374122912636, 0.0, -0.14266811212455263, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_13");
ccs("b2_ccs_end", -0.030599734060669667, 0.0, -0.24548548714079932, 0.9694002659393304, 0.0, -0.2454854871407991, 0.0, 1.0, 0.0, "b2_scr_ccs_14");
screen("b2_ccs_end", -0.030599734060669667, 0.0, -0.24548548714079932, 0.4847001329696652, 0.0, -0.12274274357039955, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_14");
ccs("b2_ccs_end", -0.021283154672645563, 0.0, -0.2052153421956341, 0.9787168453273545, 0.0, -0.20521534219563423, 0.0, 1.0, 0.0, "b2_scr_ccs_15");
screen("b2_ccs_end", -0.021283154672645563, 0.0, -0.2052153421956341, 0.48935842266367724, 0.0, -0.10260767109781711, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_15");
ccs("b2_ccs_end", -0.013638696597277747, 0.0, -0.1645945902807342, 0.9863613034027224, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, "b2_scr_ccs_16");
screen("b2_ccs_end", -0.013638696597277747, 0.0, -0.1645945902807342, 0.4931806517013612, 0.0, -0.08229729514036695, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_16");
ccs("b2_ccs_end", -0.007679420262954935, 0.0, -0.12369263126934768, 0.9923205797370451, 0.0, -0.12369263126934758, 0.0, 1.0, 0.0, "b2_scr_ccs_17");
screen("b2_ccs_end", -0.007679420262954935, 0.0, -0.12369263126934768, 0.49616028986852256, 0.0, -0.06184631563467379, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_17");
ccs("b2_ccs_end", -0.0034155069933303195, 0.0, -0.08257934547233205, 0.9965844930066698, 0.0, -0.08257934547233234, 0.0, 1.0, 0.0, "b2_scr_ccs_18");
screen("b2_ccs_end", -0.0034155069933303195, 0.0, -0.08257934547233205, 0.4982922465033349, 0.0, -0.04128967273616617, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_18");
ccs("b2_ccs_end", -0.0008542416126990464, 0.0, -0.041324974248813165, 0.999145758387301, 0.0, -0.041324974248813276, 0.0, 1.0, 0.0, "b2_scr_ccs_19");
screen("b2_ccs_end", -0.0008542416126990464, 0.0, -0.041324974248813165, 0.4995728791936505, 0.0, -0.020662487124406638, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_19");
ccs("b2_ccs_end", 0.0, 0.0, 0.0, 1.0, 0.0, 1.0146536357569526e-17, 0.0, 1.0, 0.0, "b2_scr_ccs_20");
screen("b2_ccs_end", 0.0, 0.0, 0.0, 0.5, 0.0, 5.073268178784763e-18, 0.0, 0.5, 0.0, 0, "b2_scr_ccs_20");

#***********************************************
#               Sectorbend: b3         
#***********************************************
b3_end_x = -0.2928932188134524;
b3_end_y = 0.0;
b3_end_z = 1.707106781186547;

ccs("b2_ccs_end", b3_end_x, b3_end_y, b3_end_z, 0.7071067811865476, 0.0, 0.7071067811865475, 0, 1, 0, "b3_ccs_end");

b3_radius = 1.0;
b3_Bfield = 0.03335640951981523;
b3_phi_in = 0;
b3_phi_out = 45;
b3_fringe_dl = 0;
b3_fringe_b1 = 0;
b3_fringe_b2 = 0;

sectormagnet_fix("b2_ccs_end", "b3_ccs_end", b3_radius, b3_Bfield, b3_phi_in/deg, b3_phi_out/deg, b3_fringe_dl, b3_fringe_b1, b3_fringe_b2);
ccs("b2_ccs_end", -1.0146536357569522e-17, 0.0, 0.9999999999999996, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, "b3_scr_ccs_1");
screen("b2_ccs_end", -1.0146536357569522e-17, 0.0, 0.9999999999999996, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_1");
ccs("b2_ccs_end", -0.00085424161269888, 0.0, 1.041324974248813, 0.999145758387301, 0.0, 0.04132497424881321, 0.0, 1.0, 0.0, "b3_scr_ccs_2");
screen("b2_ccs_end", -0.00085424161269888, 0.0, 1.041324974248813, 0.999145758387301, 0.0, 0.04132497424881321, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_2");
ccs("b2_ccs_end", -0.003415506993330164, 0.0, 1.082579345472332, 0.9965844930066698, 0.0, 0.08257934547233232, 0.0, 1.0, 0.0, "b3_scr_ccs_3");
screen("b2_ccs_end", -0.003415506993330164, 0.0, 1.082579345472332, 0.9965844930066698, 0.0, 0.08257934547233232, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_3");
ccs("b2_ccs_end", -0.007679420262954884, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, 0.1236926312693476, 0.0, 1.0, 0.0, "b3_scr_ccs_4");
screen("b2_ccs_end", -0.007679420262954884, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, 0.1236926312693476, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_4");
ccs("b2_ccs_end", -0.01363869659727769, 0.0, 1.1645945902807333, 0.9863613034027223, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, "b3_scr_ccs_5");
screen("b2_ccs_end", -0.01363869659727769, 0.0, 1.1645945902807333, 0.9863613034027223, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_5");
ccs("b2_ccs_end", -0.021283154672645535, 0.0, 1.205215342195634, 0.9787168453273545, 0.0, 0.20521534219563425, 0.0, 1.0, 0.0, "b3_scr_ccs_6");
screen("b2_ccs_end", -0.021283154672645535, 0.0, 1.205215342195634, 0.9787168453273545, 0.0, 0.20521534219563425, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_6");
ccs("b2_ccs_end", -0.03059973406066964, 0.0, 1.2454854871407988, 0.9694002659393304, 0.0, 0.24548548714079912, 0.0, 1.0, 0.0, "b3_scr_ccs_7");
screen("b2_ccs_end", -0.03059973406066964, 0.0, 1.2454854871407988, 0.9694002659393304, 0.0, 0.24548548714079912, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_7");
ccs("b2_ccs_end", -0.041572517541747414, 0.0, 1.285336224249105, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, "b3_scr_ccs_8");
screen("b2_ccs_end", -0.041572517541747414, 0.0, 1.285336224249105, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_8");
ccs("b2_ccs_end", -0.054182758299365266, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, "b3_scr_ccs_9");
screen("b2_ccs_end", -0.054182758299365266, 0.0, 1.3246994692046834, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_9");
ccs("b2_ccs_end", -0.06840891194872102, 0.0, 1.363507970563829, 0.931591088051279, 0.0, 0.36350797056382983, 0.0, 1.0, 0.0, "b3_scr_ccs_10");
screen("b2_ccs_end", -0.06840891194872102, 0.0, 1.363507970563829, 0.931591088051279, 0.0, 0.36350797056382983, 0.0, 1.0, 0.0, 0, "b3_scr_ccs_10");
ccs("b3_ccs_end", -0.06840891194872153, 0.0, -0.3635079705638306, 0.931591088051279, 0.0, -0.3635079705638299, 0.0, 1.0, 0.0, "b3_scr_ccs_11");
screen("b3_ccs_end", -0.06840891194872153, 0.0, -0.3635079705638306, 0.4657955440256395, 0.0, -0.18175398528191494, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_11");
ccs("b3_ccs_end", -0.054182758299365946, 0.0, -0.32469946920468407, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, "b3_scr_ccs_12");
screen("b3_ccs_end", -0.054182758299365946, 0.0, -0.32469946920468407, 0.4729086208503173, 0.0, -0.16234973460234173, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_12");
ccs("b3_ccs_end", -0.041572517541747414, 0.0, -0.28533622424910554, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, "b3_scr_ccs_13");
screen("b3_ccs_end", -0.041572517541747414, 0.0, -0.28533622424910554, 0.47921374122912636, 0.0, -0.14266811212455263, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_13");
ccs("b3_ccs_end", -0.030599734060669764, 0.0, -0.2454854871407992, 0.9694002659393304, 0.0, -0.2454854871407991, 0.0, 1.0, 0.0, "b3_scr_ccs_14");
screen("b3_ccs_end", -0.030599734060669764, 0.0, -0.2454854871407992, 0.4847001329696652, 0.0, -0.12274274357039955, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_14");
ccs("b3_ccs_end", -0.021283154672645965, 0.0, -0.20521534219563461, 0.9787168453273545, 0.0, -0.20521534219563423, 0.0, 1.0, 0.0, "b3_scr_ccs_15");
screen("b3_ccs_end", -0.021283154672645965, 0.0, -0.20521534219563461, 0.48935842266367724, 0.0, -0.10260767109781711, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_15");
ccs("b3_ccs_end", -0.013638696597277775, 0.0, -0.1645945902807342, 0.9863613034027224, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, "b3_scr_ccs_16");
screen("b3_ccs_end", -0.013638696597277775, 0.0, -0.1645945902807342, 0.4931806517013612, 0.0, -0.08229729514036695, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_16");
ccs("b3_ccs_end", -0.007679420262955428, 0.0, -0.12369263126934812, 0.9923205797370451, 0.0, -0.12369263126934758, 0.0, 1.0, 0.0, "b3_scr_ccs_17");
screen("b3_ccs_end", -0.007679420262955428, 0.0, -0.12369263126934812, 0.49616028986852256, 0.0, -0.06184631563467379, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_17");
ccs("b3_ccs_end", -0.0034155069933305762, 0.0, -0.08257934547233273, 0.9965844930066698, 0.0, -0.08257934547233234, 0.0, 1.0, 0.0, "b3_scr_ccs_18");
screen("b3_ccs_end", -0.0034155069933305762, 0.0, -0.08257934547233273, 0.4982922465033349, 0.0, -0.04128967273616617, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_18");
ccs("b3_ccs_end", -0.0008542416126991227, 0.0, -0.0413249742488134, 0.999145758387301, 0.0, -0.041324974248813276, 0.0, 1.0, 0.0, "b3_scr_ccs_19");
screen("b3_ccs_end", -0.0008542416126991227, 0.0, -0.0413249742488134, 0.4995728791936505, 0.0, -0.020662487124406638, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_19");
ccs("b3_ccs_end", 0.0, 0.0, 0.0, 1.0, 0.0, 1.0146536357569526e-17, 0.0, 1.0, 0.0, "b3_scr_ccs_20");
screen("b3_ccs_end", 0.0, 0.0, 0.0, 0.5, 0.0, 5.073268178784763e-18, 0.0, 0.5, 0.0, 0, "b3_scr_ccs_20");

#***********************************************
#               Sectorbend: b4         
#***********************************************
b4_end_x = 0.2928932188134524;
b4_end_y = 0.0;
b4_end_z = 1.7071067811865477;

ccs("b3_ccs_end", b4_end_x, b4_end_y, b4_end_z, 0.7071067811865476, 0.0, -0.7071067811865475, 0, 1, 0, "b4_ccs_end");

b4_radius = 1.0;
b4_Bfield = 0.03335640951981523;
b4_phi_in = 45;
b4_phi_out = 0;
b4_fringe_dl = 0;
b4_fringe_b1 = 0;
b4_fringe_b2 = 0;

sectormagnet_fix("b3_ccs_end", "b4_ccs_end", b4_radius, b4_Bfield, b4_phi_in/deg, b4_phi_out/deg, b4_fringe_dl, b4_fringe_b1, b4_fringe_b2);
ccs("b3_ccs_end", 2.220446049250313e-16, 0.0, 1.0000000000000002, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, "b4_scr_ccs_1");
screen("b3_ccs_end", 2.220446049250313e-16, 0.0, 1.0000000000000002, 1.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_1");
ccs("b3_ccs_end", 0.0008542416126995356, 0.0, 1.0413249742488135, 0.999145758387301, 0.0, -0.04132497424881321, 0.0, 1.0, 0.0, "b4_scr_ccs_2");
screen("b3_ccs_end", 0.0008542416126995356, 0.0, 1.0413249742488135, 0.999145758387301, 0.0, -0.04132497424881321, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_2");
ccs("b3_ccs_end", 0.003415506993330153, 0.0, 1.0825793454723325, 0.9965844930066698, 0.0, -0.08257934547233232, 0.0, 1.0, 0.0, "b4_scr_ccs_3");
screen("b3_ccs_end", 0.003415506993330153, 0.0, 1.0825793454723325, 0.9965844930066698, 0.0, -0.08257934547233232, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_3");
ccs("b3_ccs_end", 0.0076794202629550945, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, -0.1236926312693476, 0.0, 1.0, 0.0, "b4_scr_ccs_4");
screen("b3_ccs_end", 0.0076794202629550945, 0.0, 1.1236926312693476, 0.992320579737045, 0.0, -0.1236926312693476, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_4");
ccs("b3_ccs_end", 0.013638696597278122, 0.0, 1.1645945902807342, 0.9863613034027223, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, "b4_scr_ccs_5");
screen("b3_ccs_end", 0.013638696597278122, 0.0, 1.1645945902807342, 0.9863613034027223, 0.0, -0.1645945902807339, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_5");
ccs("b3_ccs_end", 0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, -0.20521534219563425, 0.0, 1.0, 0.0, "b4_scr_ccs_6");
screen("b3_ccs_end", 0.02128315467264552, 0.0, 1.2052153421956342, 0.9787168453273545, 0.0, -0.20521534219563425, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_6");
ccs("b3_ccs_end", 0.03059973406066996, 0.0, 1.2454854871407997, 0.9694002659393304, 0.0, -0.24548548714079912, 0.0, 1.0, 0.0, "b4_scr_ccs_7");
screen("b3_ccs_end", 0.03059973406066996, 0.0, 1.2454854871407997, 0.9694002659393304, 0.0, -0.24548548714079912, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_7");
ccs("b3_ccs_end", 0.041572517541747844, 0.0, 1.2853362242491055, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, "b4_scr_ccs_8");
screen("b3_ccs_end", 0.041572517541747844, 0.0, 1.2853362242491055, 0.9584274824582527, 0.0, -0.28533622424910526, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_8");
ccs("b3_ccs_end", 0.054182758299365474, 0.0, 1.3246994692046836, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, "b4_scr_ccs_9");
screen("b3_ccs_end", 0.054182758299365474, 0.0, 1.3246994692046836, 0.9458172417006346, 0.0, -0.32469946920468346, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_9");
ccs("b3_ccs_end", 0.06840891194872123, 0.0, 1.36350797056383, 0.931591088051279, 0.0, -0.36350797056382983, 0.0, 1.0, 0.0, "b4_scr_ccs_10");
screen("b3_ccs_end", 0.06840891194872123, 0.0, 1.36350797056383, 0.931591088051279, 0.0, -0.36350797056382983, 0.0, 1.0, 0.0, 0, "b4_scr_ccs_10");
ccs("b4_ccs_end", 0.06840891194872109, 0.0, -0.36350797056383044, 0.931591088051279, 0.0, 0.3635079705638299, 0.0, 1.0, 0.0, "b4_scr_ccs_11");
screen("b4_ccs_end", 0.06840891194872109, 0.0, -0.36350797056383044, 0.4657955440256395, 0.0, 0.18175398528191494, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_11");
ccs("b4_ccs_end", 0.054182758299365474, 0.0, -0.3246994692046839, 0.9458172417006346, 0.0, 0.32469946920468346, 0.0, 1.0, 0.0, "b4_scr_ccs_12");
screen("b4_ccs_end", 0.054182758299365474, 0.0, -0.3246994692046839, 0.4729086208503173, 0.0, 0.16234973460234173, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_12");
ccs("b4_ccs_end", 0.041572517541747164, 0.0, -0.28533622424910543, 0.9584274824582527, 0.0, 0.28533622424910526, 0.0, 1.0, 0.0, "b4_scr_ccs_13");
screen("b4_ccs_end", 0.041572517541747164, 0.0, -0.28533622424910543, 0.47921374122912636, 0.0, 0.14266811212455263, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_13");
ccs("b4_ccs_end", 0.0305997340606695, 0.0, -0.24548548714079918, 0.9694002659393304, 0.0, 0.2454854871407991, 0.0, 1.0, 0.0, "b4_scr_ccs_14");
screen("b4_ccs_end", 0.0305997340606695, 0.0, -0.24548548714079918, 0.4847001329696652, 0.0, 0.12274274357039955, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_14");
ccs("b4_ccs_end", 0.02128315467264548, 0.0, -0.20521534219563448, 0.9787168453273545, 0.0, 0.20521534219563423, 0.0, 1.0, 0.0, "b4_scr_ccs_15");
screen("b4_ccs_end", 0.02128315467264548, 0.0, -0.20521534219563448, 0.48935842266367724, 0.0, 0.10260767109781711, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_15");
ccs("b4_ccs_end", 0.013638696597277442, 0.0, -0.16459459028073453, 0.9863613034027224, 0.0, 0.1645945902807339, 0.0, 1.0, 0.0, "b4_scr_ccs_16");
screen("b4_ccs_end", 0.013638696597277442, 0.0, -0.16459459028073453, 0.4931806517013612, 0.0, 0.08229729514036695, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_16");
ccs("b4_ccs_end", 0.007679420262954852, 0.0, -0.12369263126934807, 0.9923205797370451, 0.0, 0.12369263126934758, 0.0, 1.0, 0.0, "b4_scr_ccs_17");
screen("b4_ccs_end", 0.007679420262954852, 0.0, -0.12369263126934807, 0.49616028986852256, 0.0, 0.06184631563467379, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_17");
ccs("b4_ccs_end", 0.003415506993330167, 0.0, -0.08257934547233252, 0.9965844930066698, 0.0, 0.08257934547233234, 0.0, 1.0, 0.0, "b4_scr_ccs_18");
screen("b4_ccs_end", 0.003415506993330167, 0.0, -0.08257934547233252, 0.4982922465033349, 0.0, 0.04128967273616617, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_18");
ccs("b4_ccs_end", 0.0008542416126989666, 0.0, -0.04132497424881356, 0.999145758387301, 0.0, 0.041324974248813276, 0.0, 1.0, 0.0, "b4_scr_ccs_19");
screen("b4_ccs_end", 0.0008542416126989666, 0.0, -0.04132497424881356, 0.4995728791936505, 0.0, 0.020662487124406638, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_19");
ccs("b4_ccs_end", 0.0, 0.0, 0.0, 1.0, 0.0, -1.0146536357569526e-17, 0.0, 1.0, 0.0, "b4_scr_ccs_20");
screen("b4_ccs_end", 0.0, 0.0, 0.0, 0.5, 0.0, -5.073268178784763e-18, 0.0, 0.5, 0.0, 0, "b4_scr_ccs_20");
